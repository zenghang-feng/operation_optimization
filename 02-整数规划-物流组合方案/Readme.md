# 1. 问题描述
有3个货物需要从A地运输到B地，货物的重量如下所示：  

![i](https://github.com/zenghang-feng/operation_optimization/blob/main/02-整数规划-物流组合方案/图片附件/pic1.png)

现在有6种可以选择的物流服务，前3种物流服务是专车运输，每种专车的载重和费用如下所示；后3种物流服务是散件运输，每种散件运输的首重及后续单价如下所示：  

![i](https://github.com/zenghang-feng/operation_optimization/blob/main/02-整数规划-物流组合方案/图片附件/pic2.png)

问每个货物采用怎样的运输方式，可以以最低的总成本将这3件货物运输到目的地？（每个货物只能采用一种物流服务，不同的货物可以采用同一种物流服务）

# 2. 问题分析
这个问题可以作为一种组合优化（整数规划）的问题处理，通过如下的方式建立每个货物和每种物流服务的联系。  

![i](https://github.com/zenghang-feng/operation_optimization/blob/main/02-整数规划-物流组合方案/图片附件/pic3.png)

## 2.1 定义变量
定义变量x00 - x25，这些变量的取值为0或1，以x00为例，x00=1，代表货物1采用物流服务1(专车1)运输，x00=0，代表货物1没有采用物流服务1(专车1)运输。   

定义变量n1 - n3，代表专车1、专车2、专车3这3种物流服务最终实际使用的车的数量，n1、n2、n3均为取值大于等于0的正整数；  

定义变量y1 - y6，代表每一种物流服务实际的物流费用，y1、y2、y3、y4、y5、y6的取值为大于等于0的正数；

## 2.2 定义优化目标
优化目标由每一种物流服务实际的物流费用组成，对于专车运输的3种服务，每一种服务的物流费用为 实际用车数量 x 每一辆车的单价；  

对于散件运输的3种服务，每一种服务的物流费用为 首重金额 + (超出首重的重量 x 单价)；  

因此可以定义优化目标如下：  

Minimize obj: y1 + y2 + y3 + y4 + y5 + y6

## 2.3 定义约束条件
对于每个货物来说，每种货物最终只能采用一种物流服务，所以有如下约束：  

x11 + x12 + x13 + x14 + x15 + x16 = 1  

x21 + x22 + x23 + x24 + x25 + x26 = 1  

x31 + x32 + x33 + x34 + x35 + x36 = 1  

对于每种物流服务来说，最终实际的载重(专车的物流服务才有载重约束)和最终实际的物流费用有如下约束：  

100 * x10 + 50 * x20 + 180 * x30 <= 200 * n1  

100 * x11 + 50 * x21 + 180 * x31 <= 80 * n2  

100 * x12 + 50 * x22 + 180 * x32 <= 50 * n3  

y1 = 150 * n1  

y2 = 80 * n2  

y3 = 50 * n3  

y4 = 10 + (100 * x14 + 50 * x24 + 180 * x34 - 50) * 2  

y5 = 8 + (100 * x15 + 50 * x25 + 180 * x35 - 10) * 1.5  

y6 = 6 + (100 * x16 + 50 * x26 + 180 * x36 - 5) * 1  

对于每个变量来说，取值有如下约束：  

xij 取值为0或1，i=1,2,3; j=1,2,3,4,5,6  

nj取值为大于等于0的正整数，j=1,2,3  

# 3. 程序实现
```
```
